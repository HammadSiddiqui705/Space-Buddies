<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Guess the Image - Kids Space Game</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background: radial-gradient(circle at top, #1b1b3a, #09091a);
      color: #fff;
      font-family: 'Poppins', sans-serif;
    }
    .btn-theme {
      background-color: #00d26a;
      color: #fff;
      border-radius: 30px;
      padding: 12px 24px;
      font-weight: 600;
      font-size: 1.1rem;
    }
    .modal-content {
      background: linear-gradient(180deg, #181836, #0c0c24);
      border: 2px solid #4a3aff;
      border-radius: 20px;
      box-shadow: 0 0 25px rgba(128, 0, 255, 0.4);
    }
    .game-image {
      width: 200px;
      height: 200px;
      object-fit: contain;
      margin-bottom: 15px;
    }
    .option-btn {
      background-color: #4a3aff;
      color: #fff;
      border: none;
      padding: 10px 15px;
      border-radius: 15px;
      transition: 0.3s;
    }
    .option-btn:hover {
      background-color: #6d5bff;
    }
    .result-text {
      font-size: 1.2rem;
      font-weight: 600;
      margin-top: 10px;
    }
    .score-time {
      display: flex;
      justify-content: center;
      gap: 25px;
      margin-bottom: 15px;
      font-weight: 600;
    }
    .score { color: #00ff7f; }
    .timer { color: #ffcc00; }
    .progress-text { color: #4ac3ff; }
    #gameOverScreen {
      display: none;
      text-align: center;
      padding: 20px;
    }
  </style>
</head>
<body class="text-center p-5">

  <!-- Start Game Button -->
  <button type="button" class="btn btn-theme" data-bs-toggle="modal" data-bs-target="#guessImageModal">
    ü™ê Play "Guess the Image"
  </button>

  <!-- Modal -->
  <div class="modal fade" id="guessImageModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
       aria-labelledby="guessImageLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-4" id="guessImageLabel">üëæ Guess the Space Object!</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="resetGame()"></button>
        </div>

        <div class="modal-body text-center">

          <!-- GAME AREA -->
          <div id="gameArea">
            <div class="score-time">
              <div>‚≠ê Score: <span id="score" class="score">0</span></div>
              <div>‚è±Ô∏è Time Left: <span id="timer" class="timer">60</span>s</div>
              <div>üìò Question: <span id="progress" class="progress-text">1/4</span></div>
            </div>

            <img id="gameImage" src="" class="game-image rounded-circle" alt="Space Object">
            <div id="optionsArea"></div>
            <div id="result" class="result-text mt-3"></div>
          </div>

          <!-- GAME OVER SCREEN -->
          <div id="gameOverScreen">
            <h2 class="text-warning">üéâ Great Job, Space Explorer! üéâ</h2>
            <p class="fs-5 mt-3">Your final score is: <span id="finalScore" class="text-info fw-bold"></span></p>
            <div class="mt-4">
              <button class="btn btn-success me-2" onclick="playAgain()">üîÅ Play Again</button>
              <button class="btn btn-danger" data-bs-dismiss="modal" onclick="resetGame()">‚ùå Close</button>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const gameData = [
      {
        image: "https://upload.wikimedia.org/wikipedia/commons/c/c7/Earth_seen_from_Apollo_17.jpg",
        answer: "Earth",
        options: ["Mars", "Earth", "Venus"]
      },
      {
        image: "https://upload.wikimedia.org/wikipedia/commons/0/02/OSIRIS_Mars_true_color.jpg",
        answer: "Mars",
        options: ["Mercury", "Mars", "Jupiter"]
      },
      {
        image: "https://upload.wikimedia.org/wikipedia/commons/e/e5/Venus-real_color.jpg",
        answer: "Venus",
        options: ["Saturn", "Venus", "Neptune"]
      },
      {
        image: "https://upload.wikimedia.org/wikipedia/commons/c/c7/Saturn_during_Equinox.jpg",
        answer: "Saturn",
        options: ["Uranus", "Neptune", "Saturn"]
      }
    ];

    let currentIndex = 0;
    let score = 0;
    let totalTime = 60;
    let countdown;

    // Start Game
    function startGame() {
      score = 0;
      currentIndex = 0;
      totalTime = 60;
      document.getElementById("score").textContent = score;
      document.getElementById("gameOverScreen").style.display = "none";
      document.getElementById("gameArea").style.display = "block";
      loadGame();
      startTimer();
    }

    // Load Question
    function loadGame() {
      const item = gameData[currentIndex];
      document.getElementById("progress").textContent = `${currentIndex + 1}/${gameData.length}`;
      document.getElementById("gameImage").src = item.image;

      const optionsDiv = document.getElementById("optionsArea");
      optionsDiv.innerHTML = "";
      item.options.forEach(opt => {
        const btn = document.createElement("button");
        btn.className = "option-btn m-2";
        btn.textContent = opt;
        btn.onclick = () => checkAnswer(opt);
        optionsDiv.appendChild(btn);
      });

      document.getElementById("result").textContent = "";
    }

    // Timer
    function startTimer() {
      clearInterval(countdown);
      countdown = setInterval(() => {
        totalTime--;
        document.getElementById("timer").textContent = totalTime;
        if (totalTime <= 0) {
          clearInterval(countdown);
          endGame();
        }
      }, 1000);
    }

    // Check Answer
    function checkAnswer(selected) {
      const correct = gameData[currentIndex].answer;
      const result = document.getElementById("result");
      const options = document.querySelectorAll(".option-btn");

      if (selected === correct) {
        score++;
        document.getElementById("score").textContent = score;
        result.textContent = "üéâ Correct! It‚Äôs " + correct + "!";
        result.style.color = "#00ff7f";
      } else {
        result.textContent = "‚ùå Oops! It was " + correct + ".";
        result.style.color = "#ff4c4c";
      }

      options.forEach(btn => btn.disabled = true);

      // Move to next after 1.5s delay
      setTimeout(() => {
        currentIndex++;
        if (currentIndex < gameData.length) {
          loadGame();
        } else {
          endGame();
        }
      }, 1500);
    }

    // End Game
    function endGame() {
      clearInterval(countdown);
      document.getElementById("finalScore").textContent = `${score} / ${gameData.length}`;
      document.getElementById("gameArea").style.display = "none";
      document.getElementById("gameOverScreen").style.display = "block";
    }

    // Reset Game
    function resetGame() {
      clearInterval(countdown);
      totalTime = 60;
      score = 0;
      currentIndex = 0;
      document.getElementById("timer").textContent = totalTime;
      document.getElementById("score").textContent = score;
      document.getElementById("gameArea").style.display = "block";
      document.getElementById("gameOverScreen").style.display = "none";
    }

    // Replay
    function playAgain() {
      resetGame();
      startGame();
    }

    // Start when modal opens
    document.getElementById("guessImageModal").addEventListener("shown.bs.modal", startGame);
  </script>
</body>
</html>
